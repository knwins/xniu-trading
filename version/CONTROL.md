# 📋 版本控制系统说明

## 🎯 概述

本项目已集成统一的版本控制系统，用于管理所有.md文件的版本号，确保版本信息的一致性。

## 📁 版本控制文件

### 核心文件
- `VERSION` - 主版本号文件
- `info.py` - 版本管理脚本
- `info.json` - 版本信息配置文件
- `CONTROL.md` - 版本控制说明文档

### 受管理的.md文件
- `README.md` - 项目主说明文档
- `README_TRADING.md` - 实盘交易指南
- `API_TROUBLESHOOTING.md` - API故障排除指南
- `小额交易测试完整指南.md` - 小额交易测试指南
- `量化交易系统完整部署指南.md` - 部署指南

## 🚀 使用方法

### 1. 查看当前版本状态

```bash
python info.py
```

### 2. 更新版本号

运行脚本后选择更新版本号：

```bash
python info.py
# 按提示输入新版本号 (格式: x.y.z)
```

### 3. 手动更新版本号

```python
from info import VersionManager

vm = VersionManager()
vm.set_version("1.0.2")
vm.update_md_files_version("1.0.2")
vm.create_version_info()
```

## 📋 版本号规范

### 格式
- 使用语义化版本号: `x.y.z`
- x: 主版本号 (重大更新)
- y: 次版本号 (功能更新)
- z: 修订版本号 (bug修复)

### 示例
- `1.0.0` - 初始版本
- `1.0.1` - 添加版本控制系统
- `1.1.0` - 新功能发布
- `2.0.0` - 重大更新

## 🔧 功能特性

### 自动更新
- 自动更新所有.md文件的版本号
- 保持版本信息格式一致
- 自动生成版本信息文件

### 版本信息格式
所有.md文件使用统一的版本信息格式：

```markdown
## 📝 更新日志

### v1.0.1 (2025-08-06)
- 添加版本控制系统
- 统一所有.md文件版本号
```

### 版本信息文件
`info.json` 包含：

```json
{
  "version": "1.0.1",
  "release_date": "2025-08-06",
  "files": {
    "python_files": [...],
    "md_files": [...],
    "config_files": [...]
  },
  "description": "智能量化交易系统 - 统一版本控制"
}
```

## 📊 版本历史

### v1.0.1 (2025-08-06)
- 添加版本控制系统
- 统一所有.md文件版本号
- 创建版本管理脚本
- 添加版本控制说明文档

### v1.0.0 (2025-08-06)
- 初始版本发布
- 完整的回测和实盘交易功能
- 多种交易策略
- 风险控制机制
- 统一时区配置 (香港时区)

## 🔍 检查版本一致性

### 脚本检查
```bash
python check.py
```

### 手动检查
```bash
# 检查VERSION文件
cat VERSION

# 检查所有.md文件的版本号
grep -r "### v" *.md
```

## ⚠️ 注意事项

1. **版本号格式**: 必须使用 `x.y.z` 格式
2. **更新顺序**: 先更新VERSION文件，再更新.md文件
3. **备份**: 更新前建议备份重要文件
4. **测试**: 更新后检查所有.md文件格式正确

## 🛠️ 故障排除

### 常见问题

1. **版本号格式错误**
   - 确保使用 `x.y.z` 格式
   - 检查版本号是否包含特殊字符

2. **文件更新失败**
   - 检查文件权限
   - 确认文件编码为UTF-8
   - 检查文件是否被其他程序占用

3. **版本信息不一致**
   - 运行 `python info.py` 重新同步
   - 手动检查并修正版本号

## 📞 技术支持

如遇到版本控制相关问题：

1. 检查 `VERSION` 文件内容
2. 运行版本管理脚本
3. 查看错误日志
4. 参考本文档

---

**版本控制系统 v1.0.1** - 最后更新: 2025-08-06 