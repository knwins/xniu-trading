# 📁 量化交易系统目录结构说明

## 🏗️ 系统架构概览

```
xniu-trading/                    # 项目根目录
├── 📄 文档文件
│   ├── 量化交易系统完整部署指南.md    # 详细部署指南
│   ├── 快速部署指南.md              # 简化部署指南
│   ├── 目录结构说明.md              # 本文档
│   ├── API_TROUBLESHOOTING.md      # API故障排除
│   ├── README.md                   # 项目说明
│   └── README_TRADING.md           # 交易系统说明
├── 🔧 部署脚本
│   ├── centos_setup.sh            # 完整部署脚本
│   └── simple_deploy.sh           # 简化部署脚本
├── ⚙️ 配置文件
│   ├── trading_config.json        # 实盘交易配置
│   ├── small_trade_config.json    # 小额测试配置
│   └── requirements.txt           # Python依赖
├── 💻 源代码
│   ├── main.py                    # 主程序入口
│   ├── trader.py                  # 交易核心模块
│   ├── strategy.py                # 交易策略模块
│   ├── data_loader.py             # 数据加载模块
│   ├── backtester.py              # 回测系统
│   ├── feature_engineer.py        # 特征工程
│   └── version_control.py         # 版本控制
├── 🧪 测试文件
│   ├── test_api_connection.py     # API连接测试
│   ├── test_small_trades.py       # 小额交易测试
│   ├── demo_small_trade.py        # 演示交易
│   └── check.py                   # 系统检查
├── 📊 数据文件
│   ├── logs/                      # 日志目录
│   ├── demo_trades_history_*.json # 交易历史
│   └── *.png                      # 图表文件
└── 📋 版本控制
    ├── VERSION                    # 版本号
    ├── version.json               # 版本信息
    └── 版本控制简化说明.md          # 版本控制说明
```

## 📄 文档文件详解

### 部署相关文档
- **量化交易系统完整部署指南.md**: 详细的部署说明，包含故障排除和安全配置
- **快速部署指南.md**: 5分钟快速部署指南，适合有经验的用户
- **目录结构说明.md**: 本文档，帮助理解项目结构

### 技术文档
- **API_TROUBLESHOOTING.md**: API连接和配置问题解决方案
- **README.md**: 项目总体介绍和使用说明
- **README_TRADING.md**: 交易系统功能说明

## 🔧 部署脚本说明

### centos_setup.sh (完整版)
- **功能**: 完整的服务器环境配置
- **特点**: 包含系统优化、安全配置、监控设置
- **适用**: 生产环境部署
- **时间**: 15-20分钟

### simple_deploy.sh (简化版)
- **功能**: 基础环境配置
- **特点**: 快速部署，包含必要组件
- **适用**: 测试环境或快速部署
- **时间**: 5-10分钟

## ⚙️ 配置文件详解

### trading_config.json (实盘配置)
```json
{
  "api_key": "您的币安API_KEY",
  "secret_key": "您的币安SECRET_KEY",
  "symbol": "ETHUSDT",              // 交易对
  "initial_balance": 300.0,         // 初始资金
  "max_position_size": 0.1,         // 最大仓位比例
  "stop_loss_pct": 0.05,           // 止损百分比
  "take_profit_pct": 0.1,          // 止盈百分比
  "max_daily_loss": 0.1,           // 最大日亏损
  "max_drawdown": 0.2,             // 最大回撤
  "signal_cooldown": 300,          // 信号冷却时间(秒)
  "base_url": "https://fapi.binance.com"
}
```

### small_trade_config.json (测试配置)
```json
{
  "api_key": "您的币安API_KEY",
  "secret_key": "您的币安SECRET_KEY",
  "symbol": "ETHUSDT",
  "initial_balance": 100.0,         // 小额测试资金
  "max_position_size": 0.05,        // 更小的仓位
  "stop_loss_pct": 0.02,           // 更严格的止损
  "take_profit_pct": 0.05,         // 更保守的止盈
  "max_daily_loss": 0.05,          // 更严格的日亏损限制
  "max_drawdown": 0.1,             // 更严格的回撤限制
  "signal_cooldown": 600,          // 更长的冷却时间
  "base_url": "https://fapi.binance.com",
  "testnet": false                 // 是否使用测试网
}
```

## 💻 源代码模块说明

### 核心模块
- **main.py**: 程序入口，负责启动和配置管理
- **trader.py**: 交易执行核心，处理订单和仓位管理
- **strategy.py**: 交易策略实现，包含信号生成逻辑
- **data_loader.py**: 数据获取和处理模块

### 辅助模块
- **backtester.py**: 策略回测系统，用于验证策略效果
- **feature_engineer.py**: 特征工程，用于数据预处理
- **version_control.py**: 版本管理，统一管理项目版本

## 🧪 测试文件说明

### 功能测试
- **test_api_connection.py**: 测试币安API连接
- **test_small_trades.py**: 小额交易功能测试
- **demo_small_trade.py**: 演示交易流程

### 系统检查
- **check.py**: 系统状态检查，验证配置和连接

## 📊 数据文件说明

### 日志文件
- **logs/**: 存放所有日志文件
  - trading.log: 交易日志
  - error.log: 错误日志
  - demo_trade.log: 演示交易日志

### 历史数据
- **demo_trades_history_*.json**: 交易历史记录
- **equity_curves_with_kline.png**: 权益曲线图表
- **strategy_performance_comparison.png**: 策略性能对比图

## 📋 版本控制说明

### 版本文件
- **VERSION**: 当前版本号
- **version.json**: 详细的版本信息
- **版本控制简化说明.md**: 版本管理说明

## 🚀 部署后目录结构

部署完成后，服务器上的目录结构：

```
/opt/quant-trading/                    # 主目录
├── venv/                             # Python虚拟环境
├── logs/                             # 日志文件
│   ├── trading.log                   # 交易日志
│   └── error.log                     # 错误日志
├── config/                           # 配置文件
│   ├── trading_config.json           # 实盘交易配置
│   └── small_trade_config.json       # 小额测试配置
├── data/                             # 数据文件
├── backups/                          # 备份文件
├── scripts/                          # 管理脚本
│   ├── start_trading.sh             # 启动脚本
│   ├── stop_trading.sh              # 停止脚本
│   ├── restart_trading.sh           # 重启脚本
│   ├── monitor.sh                   # 监控脚本
│   └── status.sh                    # 状态检查
└── src/                             # 源代码
    ├── trader.py                    # 交易核心
    ├── strategy.py                  # 交易策略
    ├── data_loader.py              # 数据加载
    ├── backtester.py               # 回测系统
    └── main.py                     # 主程序
```

## 🔄 文件更新流程

1. **开发阶段**: 在本地项目目录进行开发
2. **测试阶段**: 使用测试配置文件进行验证
3. **部署阶段**: 上传到服务器并配置生产环境
4. **监控阶段**: 通过日志和监控脚本跟踪运行状态

## 📝 注意事项

1. **配置文件安全**: 确保API密钥等敏感信息不被泄露
2. **日志管理**: 定期清理日志文件，避免磁盘空间不足
3. **备份策略**: 定期备份配置文件和重要数据
4. **版本控制**: 使用版本控制管理代码变更

---

**�� 更多详细信息请参考相应的文档文件** 