# 🚀 量化交易系统部署指南

## 📋 概述
一键部署量化交易系统到CentOS服务器，包含完整的环境配置和监控功能。

## 🎯 快速部署

### 1. 上传并执行脚本
```bash
# 上传脚本到服务器
scp centos_setup.sh user@server-ip:/home/user/

# 设置权限并执行
chmod +x centos_setup.sh
./centos_setup.sh
```

**执行时间**: 15-20分钟

## 📁 部署后结构
```
/opt/quant-trading/
├── venv/                    # Python虚拟环境
├── logs/                    # 日志文件
├── config/                  # 配置文件
│   ├── trading_config.json      # 主交易配置
│   └── small_trade_config.json  # 小额测试配置
├── data/                    # 数据文件
├── backups/                 # 备份文件
├── monitor.sh              # 监控脚本
├── status.sh               # 状态检查
├── start_trading.sh        # 启动脚本
├── stop_trading.sh         # 停止脚本
└── restart_trading.sh      # 重启脚本
```

## ⚙️ 配置步骤

### 1. 配置API密钥
```bash
nano /opt/quant-trading/config/trading_config.json
```

填入币安API密钥：
```json
{
  "api_key": "您的API_KEY",
  "secret_key": "您的SECRET_KEY",
  "symbol": "ETHUSDT",
  "initial_balance": 1000.0,
  "max_position_size": 0.1,
  "stop_loss_pct": 0.05,
  "take_profit_pct": 0.1,
  "max_daily_loss": 0.1,
  "max_drawdown": 0.2,
  "signal_cooldown": 300,
  "base_url": "https://fapi.binance.com",
  "testnet": false
}
```

### 2. 上传交易代码
```bash
scp trade/trader.py strategy.py data_loader.py user@server-ip:/opt/quant-trading/
```

### 3. 启动系统
```bash
# 使用系统服务
sudo systemctl start quant-trading
sudo systemctl enable quant-trading

# 或手动启动
cd /opt/quant-trading
./start_trading.sh
```

## 📊 管理命令

### 系统服务管理
```bash
# 启动/停止/重启
sudo systemctl start|stop|restart quant-trading

# 查看状态
sudo systemctl status quant-trading

# 查看日志
sudo journalctl -u quant-trading -f
```

### 监控命令
```bash
# 快速状态检查
cd /opt/quant-trading && ./status.sh

# 详细监控
./monitor.sh

# 查看实时日志
tail -f logs/trading.log
```

## 🔧 故障排除

### 常见问题
1. **脚本执行失败**: 检查权限 `chmod +x *.sh`
2. **Python环境问题**: 检查版本 `python3 --version`
3. **网络连接问题**: 测试连接 `ping fapi.binance.com`
4. **服务启动失败**: 查看日志 `sudo journalctl -u quant-trading -n 50`

### 问题排查顺序
1. 查看脚本输出
2. 检查系统日志: `sudo journalctl -u quant-trading`
3. 检查应用日志: `tail -f logs/trading.log`
4. 运行状态检查: `./status.sh`

## ⚠️ 重要提醒

### 安全配置
- ✅ 设置API密钥IP白名单
- ✅ 仅启用必要的API权限
- ✅ 定期更换API密钥

### 资金安全
- ✅ 先用小额资金测试
- ✅ 设置合理的止损止盈
- ✅ 定期检查交易记录

### 系统维护
- ✅ 定期更新系统
- ✅ 监控磁盘空间
- ✅ 备份重要数据

## 🎉 部署完成

系统已配置完成，包含：
- ✅ Python 3.x + 虚拟环境
- ✅ 完整的交易库 (CCXT, TA-Lib)
- ✅ 自动化的系统服务
- ✅ 实时监控和告警
- ✅ 香港时区配置 (Asia/Hong_Kong)
- ✅ 防火墙规则配置

## 🚀 下一步

1. **开发策略** - 专注于交易策略开发
2. **优化性能** - 根据需求调整配置
3. **扩展功能** - 添加更多监控功能
4. **安全加固** - 进一步加固系统

## 📝 更新日志

### v1.0.1 (2025-08-06)
- 添加版本控制系统
- 统一所有.md文件版本号
- 创建版本管理脚本
- 添加版本控制说明文档

---

**现在您拥有了完整的量化交易服务器部署方案！** 🎯 